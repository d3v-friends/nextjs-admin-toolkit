"use client";
import { jsxs as _jsxs, jsx as _jsx } from "react/jsx-runtime";
import { fnCss } from "nextjs-tools";
import { useEffect, useState } from "react";
export default function ({ label, className, hidden, children, disabled, required, name, defaultValue, type, autoComplete, inputMode, regexp, invalidMessage, readOnly, }) {
    const [value, setValue] = useState(defaultValue || "");
    const isValid = new RegExp(regexp || "").test(`${value || ""}`);
    const errMsg = value && !isValid ? invalidMessage || "" : "";
    useEffect(() => {
        setValue(defaultValue || "");
    }, [defaultValue]);
    return (_jsxs("div", { className: fnCss.concat(className, hidden ? "hidden" : ""), children: [label && (_jsxs("div", { className: "label", children: [label, errMsg && _jsxs("span", { className: "text-(--danger) ml-1", children: ["(", errMsg, ")"] })] })), _jsxs("div", { className: "flex items-center", children: [_jsx("input", { disabled, required, name, type, autoComplete, inputMode, readOnly, className: fnCss.concat(readOnly ? "readonly cursor-not-allowed" : "tag", errMsg ? "wrong" : "", "input grow"), onChange: (e) => setValue(e.target.value), value: value }), children && _jsx("div", { className: "ml-3", children: children })] })] }));
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvZm9ybS9pbnB1dC1zdHJpbmcvaW5kZXgudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFlBQVksQ0FBQzs7QUFDYixPQUFPLEVBQUMsS0FBSyxFQUF5QixNQUFNLGNBQWMsQ0FBQztBQUMzRCxPQUFjLEVBQW9FLFNBQVMsRUFBRSxRQUFRLEVBQUMsTUFBTSxPQUFPLENBQUM7QUFzQnBILE1BQU0sQ0FBQyxPQUFPLFdBQVcsRUFDeEIsS0FBSyxFQUNMLFNBQVMsRUFDVCxNQUFNLEVBQ04sUUFBUSxFQUNSLFFBQVEsRUFDUixRQUFRLEVBQ1IsSUFBSSxFQUNKLFlBQVksRUFDWixJQUFJLEVBQ0osWUFBWSxFQUNaLFNBQVMsRUFDVCxNQUFNLEVBQ04sY0FBYyxFQUNkLFFBQVEsR0FDRDtJQUNQLE1BQU0sQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDLEdBQUcsUUFBUSxDQUFDLFlBQVksSUFBSSxFQUFFLENBQUMsQ0FBQztJQUN2RCxNQUFNLE9BQU8sR0FBRyxJQUFJLE1BQU0sQ0FBQyxNQUFNLElBQUksRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsS0FBSyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDaEUsTUFBTSxNQUFNLEdBQUcsS0FBSyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxjQUFjLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7SUFFN0QsU0FBUyxDQUFDLEdBQUcsRUFBRTtRQUNkLFFBQVEsQ0FBQyxZQUFZLElBQUksRUFBRSxDQUFDLENBQUM7SUFDOUIsQ0FBQyxFQUFFLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQztJQUVuQixPQUFPLENBQ04sZUFBSyxTQUFTLEVBQUUsS0FBSyxDQUFDLE1BQU0sQ0FBQyxTQUFTLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxhQUM3RCxLQUFLLElBQUksQ0FDVCxlQUFLLFNBQVMsRUFBQyxPQUFPLGFBQ3BCLEtBQUssRUFDTCxNQUFNLElBQUksZ0JBQU0sU0FBUyxFQUFDLHNCQUFzQixrQkFBRyxNQUFNLFNBQVMsSUFDOUQsQ0FDTixFQUVELGVBQUssU0FBUyxFQUFDLG1CQUFtQixhQUNqQyxnQkFDTSxRQUFRLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsWUFBWSxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQ3RFLFNBQVMsRUFBRSxLQUFLLENBQUMsTUFBTSxDQUN0QixRQUFRLENBQUMsQ0FBQyxDQUFDLDZCQUE2QixDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQ2hELE1BQU0sQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQ3JCLFlBQVksQ0FDWixFQUNELFFBQVEsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQ3pDLEtBQUssRUFBRSxLQUFLLEdBQ1gsRUFDRCxRQUFRLElBQUksY0FBSyxTQUFTLEVBQUUsTUFBTSxZQUFHLFFBQVEsR0FBTyxJQUNoRCxJQUNELENBQ04sQ0FBQztBQUNILENBQUMifQ==